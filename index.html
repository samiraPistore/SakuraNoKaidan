<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Sakura no Kaidan</title>
  <link rel="stylesheet" href="css/style.css" />


  <!-- Estilo para iframes invisíveis -->
  <style>
    iframe {
      width: 100%;
      height: 100vh;
      border: none;
      display: none;
    }
  </style>


  <!-- Bootstrap CSS para o carrousel-->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>


<body class="conteudo">
  <!-- Cabeçalho com logo e navegação -->
  <header>
    <div class="menu-principal">
      <div class="logo">
        <h1>Sakura no Kaidan</h1>
    </div>
      <nav>
        <a href wm-link="home.html" wm-destino=".pagina">HOME</a>
        <a href wm-link="cultura.html" wm-destino=".pagina">CULTURA</a>
        <a href wm-link="lendas.html" wm-destino=".pagina">LENDAS</a>
        <a href wm-link="galeria.html" wm-destino=".pagina">GALERIA</a>
        <a href wm-link="contato.html" wm-destino=".pagina">CONTATO</a>
      </nav>
    </div>
  </header>


  <!-- Conteúdo carregado via AJAX -->
  <div class="pagina"></div>


  <!-- Script SPA com Ajax -->
  <script>
    function navegarViaAjax(url, seletor, push = true) {
      if (!url || !seletor) return;
      const elemento = document.querySelector(seletor);
      fetch(url)
        .then(resp => resp.text())
        .then(html => {
          elemento.innerHTML = html;
          if (push) {
            history.pushState({ seletor }, "Página Ajax", url);
          }
        });
    }


    document.querySelectorAll('[wm-link]').forEach(link => {
      const url = link.getAttribute('wm-link');
      const seletorDestino = link.getAttribute('wm-destino');


      link.onclick = e => {
        e.preventDefault();
        navegarViaAjax(url, seletorDestino);
      };
    });


    window.onpopstate = e => {
      if (e.state) {
        navegarViaAjax(window.location.href, e.state.seletor, false);
      }
    };
    window.onload = () => {
      navegarViaAjax('home.html', '.pagina', false);
  };

  </script>


  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
